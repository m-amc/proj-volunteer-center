(window["webpackJsonpvolunteer-center"]=window["webpackJsonpvolunteer-center"]||[]).push([[0],{103:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),o=a.n(l),i=(a(86),a(65)),c=a(66),s=a(79),m=a(67),u=a(80),d=a(55),p=a.n(d);p.a.initializeApp({apiKey:"AIzaSyDYZS3jKKLuglNpC9dcc6-iEdvUItaHi0A",authDomain:"volunteer-center.firebaseapp.com",databaseURL:"https://volunteer-center.firebaseio.com",projectId:"volunteer-center",storageBucket:"",messagingSenderId:"893009596874",appId:"1:893009596874:web:84684da9c2ec072d5eff33"});var h=p.a,E={postings:[],id:"",organization:"",address:"",state:"ON",city:"Toronto",phone:"",website:"",email:"",category:"",role:"",role_description:"",start_date:new Date,end_date:new Date,created:Date.now(),isManagement:!1,isNoResult:!1,headerButtonText:"Post Opportunities",filteredCategory:""},g=(a(61),a(23)),f=a.n(g),v=a(43),b=a(26),y=a(69),w=a(70),C=a.n(w),D=function(){return window.history.replaceState({},document.title,window.location.pathname)},k=r.a.createContext(),x=function(){var e=Object(n.useContext)(k),t=e.isAuthenticated,a=e.loginWithRedirect,l=e.logout;return r.a.createElement("div",{className:"loginOut wrapper"},!t&&r.a.createElement("button",{onClick:function(){return a({})}},"Sign In"),t&&r.a.createElement("button",{onClick:function(){return l()}},"Sign out"))},S=a(33),N=function(e){var t=e.app;return r.a.createElement("header",{className:t.state.isManagement?"managementHeader":""},r.a.createElement(x,null),r.a.createElement("h1",null,"Volunteer Center"),r.a.createElement(S.b,{to:t.state.isManagement?"/":"/organization",className:"postingLink",onClick:function(){var e=!t.state.isManagement;t.setState({isManagement:e})}},t.state.isManagement?"View Opportunities":"Post Opportunities"),r.a.createElement("p",{className:"photoCredit"},"Photo by Anna Earl on Unsplash"))},O=a(30),_=a.n(O),j=function(e){var t=e.postingData;return r.a.createElement("ul",null,t.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",null,r.a.createElement("h2",null,e.role),r.a.createElement("p",{className:"postingDateRange"},"From ",e.start_date," to ",e.end_date),r.a.createElement("p",{className:"postingRoleDescription"},e.role_description),r.a.createElement("p",{className:"postedDate"},"Posted ",_()(e.created).format("ll"))),r.a.createElement("div",null,r.a.createElement("h3",null,e.organization),r.a.createElement("p",{className:"postingAddress"},e.address," ",r.a.createElement("span",null,e.city,",  ",e.state)),r.a.createElement("p",null,e.phone.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3")),r.a.createElement("a",{href:e.website},e.website),r.a.createElement("p",null,e.email_address)))}))},R=a(72),A=function(e){return r.a.createElement("select",{id:e.id,name:e.name,onChange:e.onChange,value:e.value,required:e.required},r.a.createElement("option",{value:""},e.defaultText),r.a.createElement("option",{value:"community"},"Community"),r.a.createElement("option",{value:"education"},"Education"),r.a.createElement("option",{value:"forestry"},"Forestry"),r.a.createElement("option",{value:"healthcare"},"Health Care"),r.a.createElement("option",{value:"office"},"Office"),r.a.createElement("option",{value:"animals"},"Pets/Animals"),r.a.createElement("option",{value:"retail"},"Retail"),r.a.createElement("option",{value:"sports"},"Sports/Recreation"),r.a.createElement("option",{value:"tourism"},"Tourism"))},P=(a(103),a(57)),F=a.n(P),z=a(75),M=a.n(z),T=a(76),W=a.n(T)()(M.a),I=function(){W.fire({position:"center",type:"success",title:"Posting has been saved",showConfirmButton:!1,timer:1500})},q=(a(147),a(148),function(e){var t=e.app.dbRef.child("posting"),a=e.app.state,n=e.app,l=r.a.createRef(),o=function(e){n.setState(Object(R.a)({},e.target.name,e.target.value))};return r.a.createElement("form",{action:"",onSubmit:function(e){if(e.preventDefault(),a.end_date<a.start_date)W.fire({type:"error",title:"Date Range Error",text:"Please fix your dates"});else{var r=t.push();r.set({id:r.key,organization:a.organization,address:a.address,state:"ON",city:"Toronto",phone:a.phone.replace(/-/g,""),website:a.website,email:a.email,category:a.category,role:a.role,role_description:a.role_description,start_date:a.start_date.toLocaleDateString(),end_date:a.end_date.toLocaleDateString(),created:a.created}),n.setState({organization:"",address:"",state:"ON",city:"Toronto",phone:"",website:"",email:"",category:"",role:"",role_description:"",start_date:new Date,end_date:new Date,created:Date.now()}),l.current.focus(),I()}}},r.a.createElement("div",{className:"fieldsetContainer"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Organization Information"),r.a.createElement("div",{className:"fieldsContainer"},r.a.createElement("label",{htmlFor:"organization"},"Name ",r.a.createElement("span",null,"*")),r.a.createElement("input",{id:"organization",type:"text",name:"organization",onChange:o,value:a.organization,placeholder:"Animal Shelter",size:"30",ref:l,required:!0}),r.a.createElement("label",{htmlFor:"address"},"Address ",r.a.createElement("span",null,"*")),r.a.createElement("input",{id:"address",type:"text",name:"address",onChange:o,value:a.address,placeholder:"123 Main Street",required:!0}),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{id:"city",type:"text",name:"city",onChange:o,value:a.city,disabled:!0}),r.a.createElement("label",{htmlFor:"state"},"State"),r.a.createElement("input",{id:"state",type:"text",name:"state",onChange:o,value:a.state,disabled:!0}),r.a.createElement("label",{htmlFor:"phone"},"Phone ",r.a.createElement("span",null,"*")),r.a.createElement("input",{id:"phone",type:"tel",name:"phone",pattern:"[\\d]{3}-?[\\d]{3}-?[\\d]{4}",onChange:o,value:a.phone,placeholder:"416-123-456",title:"Format: 416-123-456 or 416123456",required:!0}),r.a.createElement("label",{htmlFor:"website"},"Website"),r.a.createElement("input",{id:"website",type:"url",name:"website",onChange:o,value:a.website,placeholder:"https://organization.com"}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{id:"email",type:"email",name:"email",onChange:o,value:a.email,size:"30",placeholder:"johndoe@domain.com"}))),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"About the Role"),r.a.createElement("div",{className:"fieldsContainer"},r.a.createElement("label",{htmlFor:"category"},"Category ",r.a.createElement("span",null,"*")),r.a.createElement(A,{name:"category",id:"category",app:n,onChange:o,value:a.category,required:"required",defaultText:"Select Category"}),r.a.createElement("label",{htmlFor:"role"},"Role ",r.a.createElement("span",null,"*")),r.a.createElement("input",{id:"role",type:"text",name:"role",onChange:o,value:a.role,placeholder:"Dog Walker",required:!0}),r.a.createElement("label",{htmlFor:"roleDescription"},"Description ",r.a.createElement("span",null,"*")),r.a.createElement("textarea",{className:"textArea",maxLength:"500",id:"roleDescription",type:"text",name:"role_description",onChange:o,value:a.role_description,placeholder:"What is the role about? How to apply? (Maximum of 500 characters)",required:!0}),r.a.createElement("div",{className:"startEndDateContainer"},r.a.createElement("div",{className:"dateContainer"},r.a.createElement("label",{htmlFor:"startDate"},"Start Date"),r.a.createElement(F.a,{selected:a.start_date,onChange:function(e){return n.setState({start_date:e})},minDate:new Date})),r.a.createElement("div",{className:"dateContainer"},r.a.createElement("label",{htmlFor:"endDate"},"End Date"),r.a.createElement(F.a,{selected:a.end_date,onChange:function(e){return n.setState({end_date:e})},minDate:a.start_date})))))),r.a.createElement("button",{className:"formSubmit"},"SUBMIT"),r.a.createElement("p",null,r.a.createElement("span",null,"*")," required fields"))}),B=(a(149),a(44)),U=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("p",null,"\xa9 2019 Ana Morales"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/class_AnaTheDev","aria-label":"Go to twitter"},r.a.createElement(B.a,{icon:["fab","twitter-square"],"aria-hidden":!0}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/anamariemorales/","aria-label":"Go to linkedin"},r.a.createElement(B.a,{icon:["fab","linkedin"],"aria-hidden":!0}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://medium.com/@anamorales.dev","aria-label":"Go to Medium"},r.a.createElement(B.a,{icon:["fab","medium"],"aria-hidden":!0}))))))},L=(a(150),a(31)),V=a(77);L.b.add(V.a);var H=function(e){var t=e.app;return r.a.createElement("div",{className:"filterCategory"},r.a.createElement("p",null,"Filter:"),r.a.createElement(A,{onChange:t.handleCategoryChange,value:t.state.filteredCategory,defaultText:"All Category"}))},J=a(78),K=a.n(J),$=function(){return r.a.createElement("div",null,r.a.createElement(K.a,null,r.a.createElement("title",null,"Volunteer Center"),r.a.createElement("meta",{name:"keywords",content:"Web Development Bootcamp, Project 6, Volunteer Center, React application"}),r.a.createElement("meta",{name:"description",content:"Volunteer Center"}),r.a.createElement("meta",{name:"author",content:"Ana Morales"}),r.a.createElement("meta",{property:"og:title",content:"Volunteer Center"}),r.a.createElement("meta",{property:"og:type",content:"website"}),r.a.createElement("meta",{property:"og:url",content:"https://m-amc.github.io/volunteer-center/"}),r.a.createElement("meta",{property:"og:image",content:"https://images.unsplash.com/photo-1560252829-804f1aedf1be?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60"}),r.a.createElement("meta",{property:"og:site_name",content:"Ana Morales"}),r.a.createElement("meta",{property:"og:description",content:"By Ana Morales, Web Developer"}),r.a.createElement("meta",{name:"twitter:card",content:"summary"}),r.a.createElement("meta",{name:"twitter:url",content:"https://m-amc.github.io/volunteer-center/"}),r.a.createElement("meta",{name:"twitter:title",content:"Volunteer Center"}),r.a.createElement("meta",{name:"twitter:description",content:"\xa9 Ana Morales, Web Developer"}),r.a.createElement("meta",{name:"twitter:creator",content:"@class_anathedev"})))},G=a(21),Q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).handleCategoryChange=function(t){var a=e.filterPostings(e.postingData,t.target.value),n=[];for(var r in a)n.push(a[r]);var l=!(n.length>0);e.setState({filteredCategory:t.target.value,isNoResult:l,postings:n})},e.filterPostings=function(t,a){var n={};for(var r in t){var l=_()(t[r].end_date),o=_()(e.today.toLocaleDateString()),i=t[r].category;void 0===a||""===a?l>=o&&(n[r]=t[r]):l>=o&&i===a&&(n[r]=t[r])}return n},e.state=E,e.today=new Date,e.dbRef=h.database().ref(),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.dbRef.on("value",function(t){e.postingData=t.val().posting;var a=e.filterPostings(e.postingData),n=[];for(var r in a)n.push(e.postingData[r]);e.setState({postings:n})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement($,null),r.a.createElement("a",{href:"#main",className:"skip-link"},"Skip to main content."),r.a.createElement(S.a,null,r.a.createElement(N,{app:this}),r.a.createElement("main",{id:"main",className:"wrapper"},r.a.createElement("section",null,r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"/",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{app:e}),r.a.createElement(j,{postingData:e.state.postings}))}}),r.a.createElement(G.a,{path:"/organization",render:function(t){return r.a.createElement(q,Object.assign({},t,{app:e}))}}))),r.a.createElement("div",{className:this.state.isNoResult?"showNoResult":"hideNoResult"},r.a.createElement("p",null,"No opportunities for this category at this time")))),r.a.createElement(U,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(59);o.a.render(r.a.createElement(function(e){var t=e.children,a=e.onRedirectCallback,l=void 0===a?D:a,o=Object(y.a)(e,["children","onRedirectCallback"]),i=Object(n.useState)(),c=Object(b.a)(i,2),s=c[0],m=c[1],u=Object(n.useState)(),d=Object(b.a)(u,2),p=d[0],h=d[1],E=Object(n.useState)(),g=Object(b.a)(E,2),w=g[0],x=g[1],S=Object(n.useState)(!0),N=Object(b.a)(S,2),O=N[0],_=N[1],j=Object(n.useState)(!1),R=Object(b.a)(j,2),A=R[0],P=R[1];Object(n.useEffect)(function(){(function(){var e=Object(v.a)(f.a.mark(function e(){var t,a,n,r,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()(o);case 2:if(t=e.sent,x(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,l(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,m(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:i=e.sent,h(i);case 19:_(!1);case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]);var F=function(){var e=Object(v.a)(f.a.mark(function e(){var t,a,n=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},P(!0),e.prev=2,e.next=5,w.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,P(!1),e.finish(10);case 13:return e.next=15,w.getUser();case 15:a=e.sent,h(a),m(!0);case 18:case"end":return e.stop()}},e,null,[[2,7,10,13]])}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(v.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,w.handleRedirectCallback();case 3:return e.next=5,w.getUser();case 5:t=e.sent,_(!1),m(!0),h(t);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(k.Provider,{value:{isAuthenticated:s,user:p,loading:O,popupOpen:A,loginWithPopup:F,handleRedirectCallback:z,getIdTokenClaims:function(){return w.getIdTokenClaims.apply(w,arguments)},loginWithRedirect:function(){return w.loginWithRedirect.apply(w,arguments)},getTokenSilently:function(){return w.getTokenSilently.apply(w,arguments)},getTokenWithPopup:function(){return w.getTokenWithPopup.apply(w,arguments)},logout:function(){return w.logout.apply(w,arguments)}}},t)},{domain:Y.domain,client_id:Y.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){window.history.replaceState({},document.title,e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},59:function(e){e.exports=JSON.parse('{"domain":"volunteer-center.auth0.com","clientId":"NFP31YV3fiPjKEYQ86433yQxSLjw2Hmu"}')},61:function(e,t,a){},81:function(e,t,a){e.exports=a(155)},86:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.e3ae5233.chunk.js.map